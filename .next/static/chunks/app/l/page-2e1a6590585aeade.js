(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{8391:function(e,s,t){Promise.resolve().then(t.bind(t,2930))},2930:function(e,s,t){"use strict";t.d(s,{default:function(){return o}});var l=t(7437),n=t(2265);t(3079);var r=(0,t(2119).$)("ec189586c4227c996274bd4c0c3bbac756f07546"),a=t(382),c=t.n(a),d=t(2553);function o(){let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(null),[o,i]=(0,n.useState)(null),m=async function(t){let{force:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!1};if(e)return;let n=new FormData(t);n.set("force",l?"yes":"no"),s(!0),a(null),i(null),r(n).then(e=>{a(e)}).catch(e=>{i(e)}).finally(()=>s(!1))};return(0,l.jsxs)("form",{className:"pt-8 sm:pt-16 text-left space-y-4 sm:space-y-8",onSubmit:function(e){e.preventDefault(),m(e.currentTarget)},children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{htmlFor:"url",className:"font-medium sm:text-lg text-slate-100 pb-2",children:"Long URL"}),(0,l.jsx)("input",{type:"text",id:"url",name:"long_url",className:"bg-slate-800 text-slate-100 rounded-md border-none focus:ring-0 focus:bg-slate-700 text-sm sm:py-2.5",autoFocus:!0})]}),(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("label",{htmlFor:"url_short",className:"block font-medium sm:text-lg text-slate-100 pb-2",children:"Shortend URL"}),(0,l.jsxs)("div",{className:"flex rounded-md shadow-sm bg-slate-800 focus-within:bg-slate-700",children:[(0,l.jsx)("span",{className:"flex select-none items-center pl-3 text-slate-400 sm:text-sm",children:"https://tcw.sh/"}),(0,l.jsx)("input",{type:"text",id:"url_short",name:"short_url",className:"block w-full min-w-0 flex-1 rounded-none rounded-r-md py-1.5 pl-1 bg-transparent text-slate-100 border-none focus:ring-0 text-sm sm:py-2.5",autoFocus:!0})]})]}),(0,l.jsx)("button",{type:"submit",disabled:e,className:"rounded-md text-slate-100 px-3.5 py-2 sm:px-6 sm:py-3 sm:text-lg font-medium bg-slate-800 hover:bg-slate-700",children:e?"Loading...":"Shorten!"}),(null==t?void 0:t.success)&&(0,l.jsx)("div",{className:"rounded-md bg-green-400/10 p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)(c(),{className:"h-5 w-5 text-green-600","aria-hidden":"true"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-green-200",children:"Link Created"}),(0,l.jsx)("div",{className:"mt-2 text-sm text-green-300 [word-break:break-word]",children:(0,l.jsxs)("p",{children:["https://tcw.sh/",t.short_url]})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("div",{className:"-mx-2 -my-1.5 flex",children:(0,l.jsx)("button",{type:"button",onClick:()=>(function(e){navigator.clipboard.writeText(e).then(()=>{console.log("Text copied to clipboard")}).catch(e=>{console.error("Failed to copy text:",e)})})("https://tcw.sh/".concat(t.short_url)),className:"rounded-md bg-transparent px-2 py-1.5 text-sm font-medium text-green-200 hover:bg-green-900/50 focus:outline-none",children:"Copy URL"})})})]})]})}),(o||(null==t?void 0:t.success)===!1)&&(0,l.jsx)("div",{className:"rounded-md bg-red-400/10 p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)(d.oOx,{className:"h-5 w-5 text-red-600","aria-hidden":"true"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-red-200",children:o?"Unknown Error":"Error"}),(0,l.jsx)("div",{className:"mt-2 text-sm text-red-300",children:(0,l.jsx)("p",{className:"[word-break:break-word]",children:(null==o?void 0:o.message)||(null==t?void 0:t.message)})}),(null==t?void 0:t.short_url_already_exists)&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("div",{className:"-mx-2 -my-1.5 flex",children:(0,l.jsx)("button",{type:"button",onClick:e=>m(e.currentTarget.closest("form"),{force:!0}),className:"rounded-md bg-transparent px-2 py-1.5 text-sm font-medium text-red-200 hover:bg-red-900/50 focus:outline-none",children:"Override Existing URL"})})})]})]})})]})}}},function(e){e.O(0,[403,971,30,744],function(){return e(e.s=8391)}),_N_E=e.O()}]);